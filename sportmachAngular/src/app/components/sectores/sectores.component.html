<div class="sector-form">
  <h2>{{ isEditing ? 'Editar Sector' : 'Agregar Sector' }}</h2>
  <form (ngSubmit)="addOrUpdateSector()">
    <!-- Nombre del sector -->
    <div>
      <label for="nombre">Nombre:</label>
      <input id="nombre" [(ngModel)]="newSector.nombre" name="nombre" required />
    </div>

    <!-- Imagen del sector -->
    <div>
      <label for="image">Imagen:</label>
      <input type="file" (change)="onFileChange($event)" />
      <div *ngIf="newSector.image">
        <img [src]="newSector.image" alt="{{ newSector.nombre }}" width="100" />
      </div>
    </div>

    <!-- Descripción del sector -->
    <div>
      <label for="description">Descripción:</label>
      <textarea id="description" [(ngModel)]="newSector.description" name="description"></textarea>
    </div>

    <!-- Capacidad del sector -->
    <div>
      <label for="capacidad">Capacidad:</label>
      <input type="number" [(ngModel)]="newSector.capacidad" name="capacidad" min="1" />
    </div>

    <!-- Botones para seleccionar días -->
    <div class="dias-seleccion">
      <h3>Selecciona un día para agregar horarios:</h3>
      <div *ngFor="let dia of dias">
        <button type="button" (click)="abrirModal(dia)">{{ dia | titlecase }}</button>
      </div>
    </div>

    <!-- Botones para agregar o actualizar el sector -->
    <button type="submit">{{ isEditing ? 'Actualizar' : 'Agregar' }} Sector</button>
    <button type="button" (click)="resetForm()">Cancelar</button>
  </form>
</div>

<!-- Modal (Pop-up) para seleccionar horarios -->
<div class="modal" [ngClass]="{'active': modalAbierto}">
  <div class="modal-content">
    <span class="close" (click)="cerrarModal()">&times;</span>
    <h4>Seleccionar horarios para {{ diaSeleccionado | titlecase }}</h4>

    <div *ngFor="let hora of horariosPorDia[diaSeleccionado]">
      <input type="checkbox" [checked]="horariosSeleccionados[diaSeleccionado].includes(hora)"
             (change)="toggleHorario(diaSeleccionado, hora)"> {{ hora }}:00 - {{ hora + 1 }}:00
    </div>

    <button class="guardar-btn" type="button" (click)="guardarHorariosPorDia()">Guardar horarios para {{ diaSeleccionado | titlecase }}</button>
  </div>
</div>
