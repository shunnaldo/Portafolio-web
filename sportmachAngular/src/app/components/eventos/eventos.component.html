<div class="form-container">
  <form (ngSubmit)="onSubmit()" #eventForm="ngForm">

    <!-- Sector Selection -->
    <div>
      <label for="idSector">Seleccione un sector</label>
      <select id="idSector" [(ngModel)]="newEvento.idSector" name="idSector" (change)="onSectorChange($event)" required>
        <option *ngFor="let sector of sectores" [value]="sector.idSector">
          {{ sector.nombre }}
        </option>
      </select>
    </div>

    <!-- Date Selection -->
    <div>
      <label for="fecha">Seleccione una fecha</label>
      <input
        type="date"
        id="fecha"
        [(ngModel)]="selectedDate"
        name="fecha"
        required
        (change)="onDateChange()"
        [min]="minDate"
        [max]="maxDate"
        [ngClass]="{'disabled': selectedDate && !isDayAvailable(selectedDate)}"
      />
    </div>

    <!-- Horario Selection -->
    <div *ngIf="horariosDisponibles.length > 0">
      <label for="horario">Seleccione un horario</label>
      <div class="horarios-container">
        <button
          type="button"
          *ngFor="let horario of horariosDisponibles"
          [disabled]="!horario.disponible"
          [ngClass]="{'selected': horario === selectedHorario, 'not-available': !horario.disponible}"
          (click)="selectHorario(horario)">
          {{ horario.inicio }} - {{ horario.fin }}
        </button>
      </div>
    </div>

    <!-- Message when no horarios are available -->
    <div *ngIf="horariosDisponibles.length === 0 && selectedDate">
      <p>No hay horarios disponibles para el día seleccionado.</p>
    </div>

    <!-- Event Title -->
    <div>
      <label for="titulo">Título</label>
      <input id="titulo" [(ngModel)]="newEvento.titulo" name="titulo" required />
    </div>

    <!-- Event Description -->
    <div>
      <label for="descripcion">Descripción</label>
      <textarea id="descripcion" [(ngModel)]="newEvento.descripcion" name="descripcion" required></textarea>
    </div>

    <!-- Event Creator -->
    <div>
      <label for="creator">Creador</label>
      <input id="creator" [(ngModel)]="newEvento.creator" name="creator" required />
    </div>

    <!-- Event Status -->
    <div>
      <label for="status">Estado</label>
      <input id="status" type="checkbox" [(ngModel)]="newEvento.status" name="status" />
    </div>

    <!-- Submit Button -->
    <button type="submit" [disabled]="eventForm.invalid">Crear Evento</button>

  </form>
</div>
